{"ast":null,"code":"import React,{useState}from'react';import{useNavigate,useParams,Link}from'react-router-dom';import{authAPI}from'../api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ResetPassword=()=>{const navigate=useNavigate();const{token}=useParams();const[password,setPassword]=useState('');const[confirmPassword,setConfirmPassword]=useState('');const[message,setMessage]=useState('');const[loading,setLoading]=useState(false);const[isDark,setIsDark]=useState(()=>{const saved=localStorage.getItem('theme');return saved==='dark';});React.useEffect(()=>{const saved=localStorage.getItem('theme');setIsDark(saved==='dark');},[]);const handleSubmit=async e=>{e.preventDefault();setLoading(true);setMessage('');if(password!==confirmPassword){setMessage('Passwords do not match');setLoading(false);return;}if(password.length<6){setMessage('Password must be at least 6 characters');setLoading(false);return;}try{await authAPI.resetPassword(token,password);setMessage('Password reset successful! Redirecting to login...');setTimeout(()=>{navigate('/signin');},2000);}catch(error){var _error$response,_error$response$data;setMessage(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||'Something went wrong');}finally{setLoading(false);}};const styles={container:{minHeight:'100vh',display:'flex',alignItems:'center',justifyContent:'center',backgroundColor:isDark?'#0f172a':'#f8fafc',padding:'20px'},card:{backgroundColor:isDark?'#1e293b':'#ffffff',borderRadius:'16px',padding:'40px',width:'100%',maxWidth:'400px',boxShadow:'0 10px 40px rgba(0,0,0,0.1)'},title:{fontSize:'24px',fontWeight:'bold',color:isDark?'#fff':'#1e293b',textAlign:'center',marginBottom:'10px'},subtitle:{fontSize:'14px',color:'#64748b',textAlign:'center',marginBottom:'30px'},input:{width:'100%',padding:'14px',borderRadius:'10px',border:\"1px solid \".concat(isDark?'#334155':'#e2e8f0'),backgroundColor:isDark?'#0f172a':'#fff',color:isDark?'#fff':'#1e293b',fontSize:'14px',marginBottom:'20px',boxSizing:'border-box'},button:{width:'100%',padding:'14px',borderRadius:'10px',border:'none',backgroundColor:'#4f46e5',color:'#fff',fontSize:'16px',fontWeight:'600',cursor:loading?'not-allowed':'pointer',opacity:loading?0.7:1},message:{padding:'12px',borderRadius:'8px',fontSize:'14px',textAlign:'center',marginTop:'20px',backgroundColor:message!==null&&message!==void 0&&message.includes('successful')?isDark?'rgba(16, 185, 129, 0.2)':'#dcfce7':isDark?'rgba(239, 68, 68, 0.2)':'#fee2e2',color:message!==null&&message!==void 0&&message.includes('successful')?isDark?'#6ee7b7':'#16a34a':isDark?'#fca5a5':'#dc2626'},backLink:{display:'block',textAlign:'center',marginTop:'20px',color:'#4f46e5',textDecoration:'none',fontSize:'14px'}};return/*#__PURE__*/_jsx(\"div\",{style:styles.container,children:/*#__PURE__*/_jsxs(\"div\",{style:styles.card,children:[/*#__PURE__*/_jsx(\"h1\",{style:styles.title,children:\"\\uD83D\\uDD10 Reset Password\"}),/*#__PURE__*/_jsx(\"p\",{style:styles.subtitle,children:\"Enter your new password below.\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"New password\",value:password,onChange:e=>setPassword(e.target.value),style:styles.input,required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",placeholder:\"Confirm new password\",value:confirmPassword,onChange:e=>setConfirmPassword(e.target.value),style:styles.input,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:styles.button,disabled:loading,children:loading?'Resetting...':'Reset Password'})]}),message&&/*#__PURE__*/_jsx(\"div\",{style:styles.message,children:message}),/*#__PURE__*/_jsx(Link,{to:\"/signin\",style:styles.backLink,children:\"\\u2190 Back to Sign In\"})]})});};export default ResetPassword;","map":{"version":3,"names":["React","useState","useNavigate","useParams","Link","authAPI","jsx","_jsx","jsxs","_jsxs","ResetPassword","navigate","token","password","setPassword","confirmPassword","setConfirmPassword","message","setMessage","loading","setLoading","isDark","setIsDark","saved","localStorage","getItem","useEffect","handleSubmit","e","preventDefault","length","resetPassword","setTimeout","error","_error$response","_error$response$data","response","data","styles","container","minHeight","display","alignItems","justifyContent","backgroundColor","padding","card","borderRadius","width","maxWidth","boxShadow","title","fontSize","fontWeight","color","textAlign","marginBottom","subtitle","input","border","concat","boxSizing","button","cursor","opacity","marginTop","includes","backLink","textDecoration","style","children","onSubmit","type","placeholder","value","onChange","target","required","disabled","to"],"sources":["D:/project/my-app/src/pages/ResetPassword.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useNavigate, useParams, Link } from 'react-router-dom';\r\nimport { authAPI } from '../api';\r\n\r\nconst ResetPassword = () => {\r\n  const navigate = useNavigate();\r\n  const { token } = useParams();\r\n  const [password, setPassword] = useState('');\r\n  const [confirmPassword, setConfirmPassword] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [isDark, setIsDark] = useState(() => {\r\n    const saved = localStorage.getItem('theme');\r\n    return saved === 'dark';\r\n  });\r\n\r\n  React.useEffect(() => {\r\n    const saved = localStorage.getItem('theme');\r\n    setIsDark(saved === 'dark');\r\n  }, []);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    setMessage('');\r\n\r\n    if (password !== confirmPassword) {\r\n      setMessage('Passwords do not match');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    if (password.length < 6) {\r\n      setMessage('Password must be at least 6 characters');\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    try {\r\n      await authAPI.resetPassword(token, password);\r\n      setMessage('Password reset successful! Redirecting to login...');\r\n      setTimeout(() => {\r\n        navigate('/signin');\r\n      }, 2000);\r\n    } catch (error) {\r\n      setMessage(error.response?.data?.message || 'Something went wrong');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const styles = {\r\n    container: {\r\n      minHeight: '100vh',\r\n      display: 'flex',\r\n      alignItems: 'center',\r\n      justifyContent: 'center',\r\n      backgroundColor: isDark ? '#0f172a' : '#f8fafc',\r\n      padding: '20px'\r\n    },\r\n    card: {\r\n      backgroundColor: isDark ? '#1e293b' : '#ffffff',\r\n      borderRadius: '16px',\r\n      padding: '40px',\r\n      width: '100%',\r\n      maxWidth: '400px',\r\n      boxShadow: '0 10px 40px rgba(0,0,0,0.1)'\r\n    },\r\n    title: {\r\n      fontSize: '24px',\r\n      fontWeight: 'bold',\r\n      color: isDark ? '#fff' : '#1e293b',\r\n      textAlign: 'center',\r\n      marginBottom: '10px'\r\n    },\r\n    subtitle: {\r\n      fontSize: '14px',\r\n      color: '#64748b',\r\n      textAlign: 'center',\r\n      marginBottom: '30px'\r\n    },\r\n    input: {\r\n      width: '100%',\r\n      padding: '14px',\r\n      borderRadius: '10px',\r\n      border: `1px solid ${isDark ? '#334155' : '#e2e8f0'}`,\r\n      backgroundColor: isDark ? '#0f172a' : '#fff',\r\n      color: isDark ? '#fff' : '#1e293b',\r\n      fontSize: '14px',\r\n      marginBottom: '20px',\r\n      boxSizing: 'border-box'\r\n    },\r\n    button: {\r\n      width: '100%',\r\n      padding: '14px',\r\n      borderRadius: '10px',\r\n      border: 'none',\r\n      backgroundColor: '#4f46e5',\r\n      color: '#fff',\r\n      fontSize: '16px',\r\n      fontWeight: '600',\r\n      cursor: loading ? 'not-allowed' : 'pointer',\r\n      opacity: loading ? 0.7 : 1\r\n    },\r\n    message: {\r\n      padding: '12px',\r\n      borderRadius: '8px',\r\n      fontSize: '14px',\r\n      textAlign: 'center',\r\n      marginTop: '20px',\r\n      backgroundColor: message?.includes('successful') \r\n        ? (isDark ? 'rgba(16, 185, 129, 0.2)' : '#dcfce7')\r\n        : (isDark ? 'rgba(239, 68, 68, 0.2)' : '#fee2e2'),\r\n      color: message?.includes('successful') \r\n        ? (isDark ? '#6ee7b7' : '#16a34a')\r\n        : (isDark ? '#fca5a5' : '#dc2626')\r\n    },\r\n    backLink: {\r\n      display: 'block',\r\n      textAlign: 'center',\r\n      marginTop: '20px',\r\n      color: '#4f46e5',\r\n      textDecoration: 'none',\r\n      fontSize: '14px'\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={styles.container}>\r\n      <div style={styles.card}>\r\n        <h1 style={styles.title}>üîê Reset Password</h1>\r\n        <p style={styles.subtitle}>\r\n          Enter your new password below.\r\n        </p>\r\n\r\n        <form onSubmit={handleSubmit}>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"New password\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n            style={styles.input}\r\n            required\r\n          />\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Confirm new password\"\r\n            value={confirmPassword}\r\n            onChange={(e) => setConfirmPassword(e.target.value)}\r\n            style={styles.input}\r\n            required\r\n          />\r\n          <button type=\"submit\" style={styles.button} disabled={loading}>\r\n            {loading ? 'Resetting...' : 'Reset Password'}\r\n          </button>\r\n        </form>\r\n\r\n        {message && (\r\n          <div style={styles.message}>\r\n            {message}\r\n          </div>\r\n        )}\r\n\r\n        <Link to=\"/signin\" style={styles.backLink}>\r\n          ‚Üê Back to Sign In\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}