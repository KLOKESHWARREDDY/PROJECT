{"ast":null,"code":"import axios from 'axios';\n\n// Helper: Get token from localStorage\nconst getAuthToken = () => {\n  const token = localStorage.getItem('token');\n  if (token) return token;\n  const userStr = localStorage.getItem('user');\n  if (userStr) {\n    try {\n      const user = JSON.parse(userStr);\n      return user.token || '';\n    } catch (e) {\n      return '';\n    }\n  }\n  return '';\n};\nconst API = axios.create({\n  baseURL: 'http://localhost:5000/api'\n});\n\n// Interceptor: Add token to every request\nAPI.interceptors.request.use(config => {\n  const token = getAuthToken();\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n});\n\n// ==================== AUTH APIs ====================\nexport const login = data => API.post('/auth/login', data);\nexport const register = data => API.post('/auth/register', data);\nexport const getProfile = () => API.get('/auth/profile');\n\n// ==================== EVENT APIs ====================\nexport const getEvents = () => API.get('/events');\nexport const createEvent = data => API.post('/events', data);\n\n// ==================== REGISTRATION APIs ====================\nexport const registerForEvent = eventId => API.post(`/registrations/${eventId}`);\nexport const getMyRegistrations = () => API.get('/registrations/my-registrations');\nexport const getMyTickets = () => API.get('/registrations/my-tickets');\nexport const getAllRegistrations = () => API.get('/registrations/all');\nexport const getEventRegistrations = eventId => API.get(`/registrations/event/${eventId}`);\nexport const approveRegistration = id => API.put(`/registrations/${id}/approve`);\nexport const rejectRegistration = id => API.put(`/registrations/${id}/reject`);\nexport default API;","map":{"version":3,"names":["axios","getAuthToken","token","localStorage","getItem","userStr","user","JSON","parse","e","API","create","baseURL","interceptors","request","use","config","headers","Authorization","login","data","post","register","getProfile","get","getEvents","createEvent","registerForEvent","eventId","getMyRegistrations","getMyTickets","getAllRegistrations","getEventRegistrations","approveRegistration","id","put","rejectRegistration"],"sources":["D:/project/my-app/src/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\n// Helper: Get token from localStorage\r\nconst getAuthToken = () => {\r\n  const token = localStorage.getItem('token');\r\n  if (token) return token;\r\n\r\n  const userStr = localStorage.getItem('user');\r\n  if (userStr) {\r\n    try {\r\n      const user = JSON.parse(userStr);\r\n      return user.token || '';\r\n    } catch (e) {\r\n      return '';\r\n    }\r\n  }\r\n  return '';\r\n};\r\n\r\nconst API = axios.create({\r\n  baseURL: 'http://localhost:5000/api',\r\n});\r\n\r\n// Interceptor: Add token to every request\r\nAPI.interceptors.request.use((config) => {\r\n  const token = getAuthToken();\r\n  if (token) {\r\n    config.headers.Authorization = `Bearer ${token}`;\r\n  }\r\n  return config;\r\n});\r\n\r\n// ==================== AUTH APIs ====================\r\nexport const login = (data) => API.post('/auth/login', data);\r\nexport const register = (data) => API.post('/auth/register', data);\r\nexport const getProfile = () => API.get('/auth/profile');\r\n\r\n// ==================== EVENT APIs ====================\r\nexport const getEvents = () => API.get('/events');\r\nexport const createEvent = (data) => API.post('/events', data);\r\n\r\n// ==================== REGISTRATION APIs ====================\r\nexport const registerForEvent = (eventId) => API.post(`/registrations/${eventId}`);\r\nexport const getMyRegistrations = () => API.get('/registrations/my-registrations');\r\nexport const getMyTickets = () => API.get('/registrations/my-tickets');\r\nexport const getAllRegistrations = () => API.get('/registrations/all');\r\nexport const getEventRegistrations = (eventId) => API.get(`/registrations/event/${eventId}`);\r\nexport const approveRegistration = (id) => API.put(`/registrations/${id}/approve`);\r\nexport const rejectRegistration = (id) => API.put(`/registrations/${id}/reject`);\r\n\r\nexport default API;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;;AAEzB;AACA,MAAMC,YAAY,GAAGA,CAAA,KAAM;EACzB,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE,OAAOA,KAAK;EAEvB,MAAMG,OAAO,GAAGF,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;EAC5C,IAAIC,OAAO,EAAE;IACX,IAAI;MACF,MAAMC,IAAI,GAAGC,IAAI,CAACC,KAAK,CAACH,OAAO,CAAC;MAChC,OAAOC,IAAI,CAACJ,KAAK,IAAI,EAAE;IACzB,CAAC,CAAC,OAAOO,CAAC,EAAE;MACV,OAAO,EAAE;IACX;EACF;EACA,OAAO,EAAE;AACX,CAAC;AAED,MAAMC,GAAG,GAAGV,KAAK,CAACW,MAAM,CAAC;EACvBC,OAAO,EAAE;AACX,CAAC,CAAC;;AAEF;AACAF,GAAG,CAACG,YAAY,CAACC,OAAO,CAACC,GAAG,CAAEC,MAAM,IAAK;EACvC,MAAMd,KAAK,GAAGD,YAAY,CAAC,CAAC;EAC5B,IAAIC,KAAK,EAAE;IACTc,MAAM,CAACC,OAAO,CAACC,aAAa,GAAG,UAAUhB,KAAK,EAAE;EAClD;EACA,OAAOc,MAAM;AACf,CAAC,CAAC;;AAEF;AACA,OAAO,MAAMG,KAAK,GAAIC,IAAI,IAAKV,GAAG,CAACW,IAAI,CAAC,aAAa,EAAED,IAAI,CAAC;AAC5D,OAAO,MAAME,QAAQ,GAAIF,IAAI,IAAKV,GAAG,CAACW,IAAI,CAAC,gBAAgB,EAAED,IAAI,CAAC;AAClE,OAAO,MAAMG,UAAU,GAAGA,CAAA,KAAMb,GAAG,CAACc,GAAG,CAAC,eAAe,CAAC;;AAExD;AACA,OAAO,MAAMC,SAAS,GAAGA,CAAA,KAAMf,GAAG,CAACc,GAAG,CAAC,SAAS,CAAC;AACjD,OAAO,MAAME,WAAW,GAAIN,IAAI,IAAKV,GAAG,CAACW,IAAI,CAAC,SAAS,EAAED,IAAI,CAAC;;AAE9D;AACA,OAAO,MAAMO,gBAAgB,GAAIC,OAAO,IAAKlB,GAAG,CAACW,IAAI,CAAC,kBAAkBO,OAAO,EAAE,CAAC;AAClF,OAAO,MAAMC,kBAAkB,GAAGA,CAAA,KAAMnB,GAAG,CAACc,GAAG,CAAC,iCAAiC,CAAC;AAClF,OAAO,MAAMM,YAAY,GAAGA,CAAA,KAAMpB,GAAG,CAACc,GAAG,CAAC,2BAA2B,CAAC;AACtE,OAAO,MAAMO,mBAAmB,GAAGA,CAAA,KAAMrB,GAAG,CAACc,GAAG,CAAC,oBAAoB,CAAC;AACtE,OAAO,MAAMQ,qBAAqB,GAAIJ,OAAO,IAAKlB,GAAG,CAACc,GAAG,CAAC,wBAAwBI,OAAO,EAAE,CAAC;AAC5F,OAAO,MAAMK,mBAAmB,GAAIC,EAAE,IAAKxB,GAAG,CAACyB,GAAG,CAAC,kBAAkBD,EAAE,UAAU,CAAC;AAClF,OAAO,MAAME,kBAAkB,GAAIF,EAAE,IAAKxB,GAAG,CAACyB,GAAG,CAAC,kBAAkBD,EAAE,SAAS,CAAC;AAEhF,eAAexB,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}